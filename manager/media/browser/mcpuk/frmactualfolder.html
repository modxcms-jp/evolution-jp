<!--
 * FCKeditor - The text editor for internet
 * Copyright (C) 2003-2005 Frederico Caldeira Knabben
 * 
 * Licensed under the terms of the GNU Lesser General Public License:
 * 		http://www.opensource.org/licenses/lgpl-license.php
 * 
 * For further information visit:
 * 		http://www.fckeditor.net/
 * 
 * File Name: frmactualfolder.html
 * 	This page shows the actual folder path.
 * 
 * File Authors:
 * 		Frederico Caldeira Knabben (fredck@fckeditor.net)
-->
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html>
<head>
    <link href="browser.css" type="text/css" rel="stylesheet">
    <script type="text/javascript">
        function buildBreadcrumb(folderPath) {
            var pathEl = document.getElementById('tdName');

            if (!pathEl) {
                return;
            }

            while (pathEl.firstChild) {
                pathEl.removeChild(pathEl.firstChild);
            }

            var foldersFrame = window.parent.frames['frmFolders'];
            var parts = folderPath.split('/').filter(function (segment) {
                return segment.length;
            });
            var currentPath = '/';

            var rootLink = document.createElement('a');
            rootLink.href = '#';
            rootLink.className = 'BrowserPathLink';
            rootLink.onclick = function (event) {
                if (event && event.preventDefault) {
                    event.preventDefault();
                }

                if (foldersFrame && typeof foldersFrame.OpenFolder === 'function') {
                    foldersFrame.OpenFolder('/');
                }

                return false;
            };
            rootLink.appendChild(document.createTextNode('/'));
            pathEl.appendChild(rootLink);

            parts.forEach(function (part) {
                currentPath += part + '/';

                var segmentLink = document.createElement('a');
                segmentLink.href = '#';
                segmentLink.className = 'BrowserPathLink';
                segmentLink.onclick = function (event) {
                    if (event && event.preventDefault) {
                        event.preventDefault();
                    }

                    if (foldersFrame && typeof foldersFrame.OpenFolder === 'function') {
                        foldersFrame.OpenFolder(currentPath);
                    }

                    return false;
                };
                segmentLink.appendChild(document.createTextNode(part));

                pathEl.appendChild(segmentLink);
                pathEl.appendChild(document.createTextNode('/'));
            });
        }

        function SetCurrentFolder(resourceType, folderPath) {
            buildBreadcrumb(folderPath);
        }

        window.onload = function () {
            window.top.IsLoadedActualFolder = true;
        }

    </script>
</head>
<body class="mcpuk-browser BrowserBody BrowserBody--actual-folder" bottomMargin="0" topMargin="0">
<div class="BrowserPathContainer">
    <div class="BrowserPathBar" role="presentation">
        <span id="tdName" class="ActualFolder BrowserPathText">/</span>
    </div>
</div>
</body>
</html>
